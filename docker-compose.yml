services:
  wolserver:
    build: .
    container_name: wolserver
    ports:
      - "7070:7070"
    environment:
      PORT: "7070"
      DEFAULT_BROADCAST: "192.168.1.255"
      ENABLE_AUTH: "false"
      AUTH_USER: "admin"
      AUTH_PASS: "change-me"
      ENABLE_RATE_LIMIT: "true"
      RATE_LIMIT_REQUESTS: "60"
      RATE_LIMIT_WINDOW_SECONDS: "60"
      LOG_LEVEL: "INFO"
      DB_PATH: "/data/devices.db"
    volumes:
      - wol_data:/data
    restart: unless-stopped
    # Usa host network si el broadcast no sale correctamente con bridge/NAT.
    # En Linux permite enviar paquetes WOL directo a la LAN.
    # network_mode: host

volumes:
  wol_data:
